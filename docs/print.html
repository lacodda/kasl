<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>kasl documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="commands/index.html"><strong aria-hidden="true">2.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/event.html"><strong aria-hidden="true">2.1.</strong> event</a></li><li class="chapter-item expanded "><a href="commands/report.html"><strong aria-hidden="true">2.2.</strong> report</a></li><li class="chapter-item expanded "><a href="commands/task.html"><strong aria-hidden="true">2.3.</strong> task</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">kasl documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p align="center">
  <img src="https://raw.githubusercontent.com/lacodda/kasl/main/kasl.webp" width="320" alt="kasl">
</p>
<h1 align="center">kasl: Key Activity Synchronization and Logging üïí</h1>
<br>
<h2 id="overview-"><a class="header" href="#overview-">Overview üìñ</a></h2>
<p>kasl is a comprehensive command-line utility üõ†Ô∏è designed to streamline the tracking of work activities üìä, including start times ‚è∞, breaks ‚òï, and task completion ‚úÖ. It automates the collection of work data üìà, facilitates task management üìã, and generates daily reports üìù, simplifying workflow and productivity tracking üöÄ.</p>
<h2 id="features-"><a class="header" href="#features-">Features üåü</a></h2>
<ul>
<li><strong>Automatic Data Collection</strong> üìä: Tracks the start of work sessions and breaks without manual input.</li>
<li><strong>Task Management</strong> üìã: Easily add tasks and update completion percentages.</li>
<li><strong>Daily Reports</strong> üìù: Auto-generates daily reports summarizing work activities.</li>
<li><strong>API Integration</strong> üåê: Sends daily reports to a specified API for easy access and storage.</li>
<li><strong>User-Friendly</strong> üòä: Designed with a focus on simplicity and ease of use.</li>
</ul>
<h2 id="getting-started-"><a class="header" href="#getting-started-">Getting Started üöÄ</a></h2>
<h3 id="prerequisites-"><a class="header" href="#prerequisites-">Prerequisites üìã</a></h3>
<ul>
<li>Ensure you have a compatible operating system (Windows, macOS, or Linux) üíª.</li>
<li>Requires Node.js and npm (or an equivalent package manager) for running the utility üì¶.</li>
</ul>
<h3 id="installation-"><a class="header" href="#installation-">Installation üîß</a></h3>
<p>You can run the application using the <code>npx</code> utility:</p>
<pre><code class="language-bash">npx kasl@latest
</code></pre>
<p>Or install the package from npm globally</p>
<pre><code class="language-bash">npm i -g kasl
</code></pre>
<p>This will make the <code>kasl</code> application globally available in your system</p>
<h3 id="usage-"><a class="header" href="#usage-">Usage üìö</a></h3>
<p>To start kasl and begin tracking:</p>
<pre><code class="language-bash">kasl --help
</code></pre>
<h2 id="roadmap-"><a class="header" href="#roadmap-">Roadmap üó∫Ô∏è</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
Enhance task management with categories and priorities.</li>
<li><input disabled="" type="checkbox"/>
Integrate with more APIs for report submission.</li>
<li><input disabled="" type="checkbox"/>
Implement machine learning for predicting task completion time.</li>
<li><input disabled="" type="checkbox"/>
Add support for team collaboration features.</li>
<li><input disabled="" type="checkbox"/>
Develop a graphical user interface (GUI) version.</li>
</ul>
<h2 id="how-to-contribute-"><a class="header" href="#how-to-contribute-">How to Contribute ü§ù</a></h2>
<p>Contributions are welcome! If you have ideas for new features or improvements, feel free to fork the repository, make your changes, and submit a pull request.</p>
<h2 id="license-"><a class="header" href="#license-">License üìÑ</a></h2>
<p>kasl is open-source software licensed under the MIT license. See the <a href="LICENSE">LICENSE</a> file for more details.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commands"><a class="header" href="#commands">Commands</a></h1>
<ul>
<li><code>event</code>: Manages and displays events related to the application's operations <a href="commands/./event.html">Learn more</a></li>
<li><code>report</code>: Generates and optionally sends a report covering the day's events and tasks <a href="commands/./report.html">Learn more</a></li>
<li><code>task</code>: Facilitates task management, including creating, displaying, and updating tasks <a href="commands/./task.html">Learn more</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-command"><a class="header" href="#event-command"><code>event</code> Command</a></h1>
<p>The <code>event</code> command in <code>kasl</code> is used for managing and displaying events related to the application's operations. This command allows users to insert new events or display information about existing events, depending on the provided arguments.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-plaintext">kasl event [OPTIONS] &lt;EVENT_TYPE&gt;
</code></pre>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<ul>
<li>
<p><code>&lt;EVENT_TYPE&gt;</code>: Specifies the type of the event to insert. Defaults to <code>start</code>. The <code>EVENT_TYPE</code> can be either <code>start</code> or <code>end</code>, representing the beginning and the end of an event, respectively. This option is used when adding a new event and is not required when simply viewing events.</p>
</li>
<li>
<p><code>-s</code>, <code>--show</code>: Displays the events information. When this option is provided, the command will fetch and display information about events instead of inserting a new event.</p>
</li>
</ul>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<ul>
<li>
<p>Inserting a new <code>start</code> event:</p>
<pre><code class="language-bash">kasl event start
</code></pre>
</li>
<li>
<p>Inserting a new <code>end</code> event:</p>
<pre><code class="language-bash">kasl event end
</code></pre>
</li>
<li>
<p>Displaying information about events:</p>
<pre><code class="language-bash">kasl event --show
</code></pre>
</li>
</ul>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p>The <code>event</code> command operates in two modes: insert and display.</p>
<ul>
<li>
<p><strong>Insert Mode:</strong> When called without the <code>--show</code> option, it inserts a new event of the specified type into the application's database. By default, it inserts a <code>start</code> event unless another event type is specified via the <code>--event_type</code> option. This mode is useful for tracking the start and end of events within the application.</p>
</li>
<li>
<p><strong>Display Mode:</strong> When the <code>--show</code> option is used, the command fetches events from the database, merges them based on certain criteria, calculates durations, and formats them for display. It then prints a summary of the working hours and details of each event. This mode is intended for reviewing the events and their durations over time.</p>
</li>
</ul>
<h3 id="implementation-notes"><a class="header" href="#implementation-notes">Implementation Notes</a></h3>
<ul>
<li>
<p>The command uses the local system time (<code>chrono::Local</code>) to display the current date when showing events.</p>
</li>
<li>
<p>It leverages the application's <code>Events</code>, <code>EventType</code>, <code>FormatEvents</code>, <code>MergeEvents</code>, and <code>View</code> modules for database operations, event handling, and output formatting.</p>
</li>
<li>
<p>The command is designed to be robust, with error handling that ensures graceful failure in case of issues accessing the database or processing events.</p>
</li>
</ul>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<p>The <code>event</code> command returns an error if there are issues accessing the database, merging events, or any other operation-related failures. It ensures that errors are properly boxed and communicated back to the caller, facilitating debugging and resolution.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="report-command"><a class="header" href="#report-command"><code>report</code> Command</a></h1>
<p>The <code>report</code> command in <code>kasl</code> is designed to generate and optionally send a comprehensive report covering the day's events and tasks. This command aggregates data from events and tasks, formats it, and displays or sends it as specified by the user.</p>
<h2 id="usage-1"><a class="header" href="#usage-1">Usage</a></h2>
<pre><code class="language-plaintext">kasl report [OPTIONS]
</code></pre>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<ul>
<li><code>--send</code>: When this option is provided, the command will attempt to send the generated report. If not specified, the command will display the report for the current day without sending it.</li>
</ul>
<h3 id="examples-1"><a class="header" href="#examples-1">Examples</a></h3>
<ul>
<li>
<p>Generating and displaying a report for today:</p>
<pre><code class="language-bash">kasl report
</code></pre>
</li>
<li>
<p>Generating and sending today's report:</p>
<pre><code class="language-bash">kasl report --send
</code></pre>
</li>
</ul>
<h2 id="description-1"><a class="header" href="#description-1">Description</a></h2>
<p>The <code>report</code> command operates in two main modes based on the provided options:</p>
<ul>
<li>
<p><strong>Display Mode:</strong> By default, without the <code>--send</code> option, the command fetches today's events and tasks, merges and formats the events, and displays a report. This report includes a summary of the events and a list of tasks for the current day.</p>
</li>
<li>
<p><strong>Send Mode:</strong> When the <code>--send</code> option is used, the command performs the same data fetching and processing as in display mode. Additionally, it attempts to send the formatted report. If no tasks are found for the day, it notifies the user that no tasks are available. On successful submission, a confirmation message is shown, indicating that the report has been sent.</p>
</li>
</ul>
<h3 id="implementation-notes-1"><a class="header" href="#implementation-notes-1">Implementation Notes</a></h3>
<ul>
<li>
<p>The command utilizes local system time (<code>chrono::Local</code>) for timestamping and report dating.</p>
</li>
<li>
<p>It leverages multiple modules from the application, such as <code>Events</code>, <code>Tasks</code>, <code>Config</code>, and <code>Si</code> for database operations, configuration management, and server interaction.</p>
</li>
<li>
<p>Data from events is serialized into JSON format for sending. The <code>Si</code> module is responsible for transmitting this data based on application configurations.</p>
</li>
<li>
<p>Error handling is built into the command to manage and report issues with fetching data, reading configuration, or communicating with the server.</p>
</li>
</ul>
<h2 id="error-handling-1"><a class="header" href="#error-handling-1">Error Handling</a></h2>
<p>The command is designed to handle various errors gracefully, including database access issues, configuration problems, and network communication errors. Errors are reported to the user with sufficient detail to identify and address the underlying problem.</p>
<hr />
<p>This documentation provides users with a clear understanding of how to use the <code>report</code> command within the <code>kasl</code> utility, including its options, operation modes, and handling of different scenarios.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="task-command"><a class="header" href="#task-command"><code>task</code> Command</a></h1>
<p>The <code>task</code> command in <code>kasl</code> facilitates task management, including creating, displaying, and updating tasks. It supports various operations through command-line options, providing flexibility in how tasks are handled within the application.</p>
<h2 id="usage-2"><a class="header" href="#usage-2">Usage</a></h2>
<pre><code class="language-plaintext">kasl task [OPTIONS]
</code></pre>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<ul>
<li>
<p><code>-n</code>, <code>--name &lt;NAME&gt;</code>: Specifies the name of the task. This option is used for creating a new task or updating an existing one.</p>
</li>
<li>
<p><code>-c</code>, <code>--comment &lt;COMMENT&gt;</code>: Adds a comment to the task. This is optional and can be used for providing additional information about the task.</p>
</li>
<li>
<p><code>-p</code>, <code>--completeness &lt;COMPLETENESS&gt;</code>: Indicates the completeness of the task as a percentage (0-100). This can be used to update the task's progress.</p>
</li>
<li>
<p><code>-s</code>, <code>--show</code>: Displays tasks based on the specified filter. Without additional filtering options, it defaults to showing today's tasks.</p>
</li>
<li>
<p><code>-a</code>, <code>--all</code>: When used with <code>--show</code>, displays all tasks, overriding the default filter of today's tasks.</p>
</li>
<li>
<p><code>-i</code>, <code>--id &lt;ID&gt;</code>: Specifies one or more task IDs. When used with <code>--show</code>, filters the displayed tasks to those with the given IDs.</p>
</li>
<li>
<p><code>-f</code>, <code>--find</code>: Finds and allows the user to update incomplete tasks. This option triggers a user interface for selecting incomplete tasks and updating their completeness.</p>
</li>
</ul>
<h3 id="examples-2"><a class="header" href="#examples-2">Examples</a></h3>
<ul>
<li>
<p>Creating a new task:</p>
<pre><code class="language-bash">kasl task --name "New Task" --comment "This is a test task" --completeness 50
</code></pre>
</li>
<li>
<p>Displaying today's tasks:</p>
<pre><code class="language-bash">kasl task --show
</code></pre>
</li>
<li>
<p>Displaying all tasks:</p>
<pre><code class="language-bash">kasl task --show --all
</code></pre>
</li>
<li>
<p>Finding and updating incomplete tasks:</p>
<pre><code class="language-bash">kasl task --find
</code></pre>
</li>
</ul>
<h2 id="description-2"><a class="header" href="#description-2">Description</a></h2>
<p>The <code>task</code> command allows for comprehensive task management. It supports creating new tasks, displaying tasks with various filters, and updating task completeness. The command integrates user inputs and selections for a smooth task management experience.</p>
<h3 id="implementation-notes-2"><a class="header" href="#implementation-notes-2">Implementation Notes</a></h3>
<ul>
<li>
<p>Uses <code>clap</code> for command-line argument parsing and <code>dialoguer</code> for interactive prompts and selections.</p>
</li>
<li>
<p>Leverages the <code>Tasks</code> module for database operations, including fetching, creating, and updating tasks.</p>
</li>
<li>
<p>Task filtering is versatile, supporting filters like <code>Today</code>, <code>All</code>, and <code>ByIds</code>, making it easy to display tasks as needed.</p>
</li>
<li>
<p>The <code>View</code> module is used for formatting and displaying tasks, ensuring a consistent user experience.</p>
</li>
</ul>
<h2 id="error-handling-2"><a class="header" href="#error-handling-2">Error Handling</a></h2>
<p>The command includes comprehensive error handling to address potential issues with database operations or user input. It provides clear feedback to the user in case of errors, facilitating troubleshooting and correction.</p>
<hr />
<p>This documentation outlines the <code>task</code> command's functionality within the <code>kasl</code> utility, including options, usage examples, and details on its operation and error handling.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
