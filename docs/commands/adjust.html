<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>adjust - kasl documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">kasl documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="adjust-command"><a class="header" href="#adjust-command"><code>adjust</code> Command</a></h1>
<p>The <code>adjust</code> command provides manual correction capabilities for automatically recorded work times. It supports removing time from the beginning or end of workdays and adding manual pauses that weren't detected by the monitoring system.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-bash">kasl adjust [OPTIONS]
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<ul>
<li>
<p><code>-d, --date &lt;DATE&gt;</code>: Date to adjust workday for (default: <code>today</code>)</p>
<ul>
<li><code>today</code>: Current date</li>
<li><code>YYYY-MM-DD</code>: Specific date in ISO format</li>
</ul>
</li>
<li>
<p><code>-m, --minutes &lt;MINUTES&gt;</code>: Minutes to subtract or pause duration to add</p>
<ul>
<li><strong>Start/End modes</strong>: Minutes to remove from workday</li>
<li><strong>Pause mode</strong>: Duration of the pause to add</li>
<li>If not specified, the user will be prompted interactively</li>
</ul>
</li>
<li>
<p><code>--mode &lt;MODE&gt;</code>: Type of adjustment to perform</p>
<ul>
<li><code>start</code>: Remove time from the beginning of the workday</li>
<li><code>end</code>: Remove time from the end of the workday</li>
<li><code>pause</code>: Add a manual pause within the workday</li>
<li>If not provided, the user will be prompted to select</li>
</ul>
</li>
<li>
<p><code>--force</code>: Skip confirmation prompt and apply changes immediately</p>
<ul>
<li>Changes will be applied without showing a preview</li>
<li>Use with caution as adjustments modify the permanent work record</li>
</ul>
</li>
</ul>
<h2 id="adjustment-modes"><a class="header" href="#adjustment-modes">Adjustment Modes</a></h2>
<h3 id="start-mode"><a class="header" href="#start-mode">Start Mode</a></h3>
<p>Remove time from the beginning of the workday:</p>
<pre><code class="language-bash"># Remove 30 minutes from the start of today's workday
kasl adjust --mode start --minutes 30

# Remove 15 minutes from a specific date
kasl adjust --mode start --minutes 15 --date 2024-12-15
</code></pre>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Correcting early false starts from the monitor</li>
<li>Accounting for personal time before actual work began</li>
<li>Adjusting for system wake-up activity</li>
</ul>
<h3 id="end-mode"><a class="header" href="#end-mode">End Mode</a></h3>
<p>Remove time from the end of the workday:</p>
<pre><code class="language-bash"># Remove 20 minutes from the end of today's workday
kasl adjust --mode end --minutes 20

# Remove 45 minutes from a specific date
kasl adjust --mode end --minutes 45 --date 2024-12-15
</code></pre>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Correcting late false activity from system processes</li>
<li>Removing personal time after work ended</li>
<li>Adjusting for shutdown activity</li>
</ul>
<h3 id="pause-mode"><a class="header" href="#pause-mode">Pause Mode</a></h3>
<p>Add a manual pause in the middle of the workday:</p>
<pre><code class="language-bash"># Add a 30-minute pause to today's workday
kasl adjust --mode pause --minutes 30

# Add a 60-minute pause to a specific date
kasl adjust --mode pause --minutes 60 --date 2024-12-15
</code></pre>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Adding breaks that weren't automatically detected</li>
<li>Recording meetings or phone calls away from the computer</li>
<li>Accounting for manual activities not detected by monitoring</li>
</ul>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="interactive-mode"><a class="header" href="#interactive-mode">Interactive Mode</a></h3>
<pre><code class="language-bash"># Start interactive adjustment
kasl adjust

# The command will prompt for:
# 1. Adjustment mode (start/end/pause)
# 2. Duration in minutes
# 3. Confirmation of changes
</code></pre>
<h3 id="non-interactive-mode"><a class="header" href="#non-interactive-mode">Non-Interactive Mode</a></h3>
<pre><code class="language-bash"># Remove 30 minutes from start of today's workday
kasl adjust --mode start --minutes 30

# Add 45-minute pause to yesterday's workday
kasl adjust --mode pause --minutes 45 --date 2024-12-15

# Remove 20 minutes from end of specific date
kasl adjust --mode end --minutes 20 --date 2024-12-10
</code></pre>
<h3 id="force-mode"><a class="header" href="#force-mode">Force Mode</a></h3>
<pre><code class="language-bash"># Apply changes without confirmation
kasl adjust --mode start --minutes 30 --force

# Useful for automated scripts
kasl adjust --mode pause --minutes 15 --date 2024-12-15 --force
</code></pre>
<h2 id="sample-output"><a class="header" href="#sample-output">Sample Output</a></h2>
<h3 id="interactive-session"><a class="header" href="#interactive-session">Interactive Session</a></h3>
<pre><code>Adjusting workday for 2024-12-15

Current workday:
├── Start: 09:00:00
├── End: 17:30:00
├── Duration: 8h 30m
└── Pauses: 1h 15m

Select adjustment mode:
1. Start (remove time from beginning)
2. End (remove time from end)
3. Pause (add manual pause)

Enter minutes: 30

Proposed changes:
├── Original duration: 8h 30m
├── Adjustment: -30 minutes
└── New duration: 8h 00m

Apply changes? [y/N]: y

✅ Workday adjusted successfully!
</code></pre>
<h3 id="non-interactive-output"><a class="header" href="#non-interactive-output">Non-Interactive Output</a></h3>
<pre><code>Adjusting workday for 2024-12-15

Current workday:
├── Start: 09:00:00
├── End: 17:30:00
├── Duration: 8h 30m
└── Pauses: 1h 15m

Removing 30 minutes from start...

✅ Workday adjusted successfully!
New duration: 8h 00m
</code></pre>
<h2 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h2>
<h3 id="correcting-false-starts"><a class="header" href="#correcting-false-starts">Correcting False Starts</a></h3>
<pre><code class="language-bash"># Remove early morning activity that wasn't actual work
kasl adjust --mode start --minutes 45 --date 2024-12-15
</code></pre>
<h3 id="adding-missed-breaks"><a class="header" href="#adding-missed-breaks">Adding Missed Breaks</a></h3>
<pre><code class="language-bash"># Add lunch break that wasn't detected
kasl adjust --mode pause --minutes 60 --date 2024-12-15
</code></pre>
<h3 id="correcting-end-times"><a class="header" href="#correcting-end-times">Correcting End Times</a></h3>
<pre><code class="language-bash"># Remove time spent on personal activities after work
kasl adjust --mode end --minutes 30 --date 2024-12-15
</code></pre>
<h3 id="batch-adjustments"><a class="header" href="#batch-adjustments">Batch Adjustments</a></h3>
<pre><code class="language-bash"># Adjust multiple days (using scripts)
for date in 2024-12-15 2024-12-16 2024-12-17; do
    kasl adjust --mode start --minutes 30 --date $date --force
done
</code></pre>
<h2 id="validation-and-safety"><a class="header" href="#validation-and-safety">Validation and Safety</a></h2>
<h3 id="pre-adjustment-checks"><a class="header" href="#pre-adjustment-checks">Pre-Adjustment Checks</a></h3>
<p>The command performs several validations:</p>
<ol>
<li><strong>Workday Existence</strong>: Ensures a workday exists for the specified date</li>
<li><strong>Time Validation</strong>: Checks that adjustments don't create invalid time ranges</li>
<li><strong>Duration Limits</strong>: Prevents adjustments that would result in negative work time</li>
<li><strong>Pause Overlap</strong>: Validates pause times don't conflict with existing pauses</li>
</ol>
<h3 id="confirmation-process"><a class="header" href="#confirmation-process">Confirmation Process</a></h3>
<p>Unless <code>--force</code> is used, the command will:</p>
<ol>
<li><strong>Show Current State</strong>: Display the current workday information</li>
<li><strong>Preview Changes</strong>: Show what the adjustment will do</li>
<li><strong>Request Confirmation</strong>: Ask for user approval before applying changes</li>
</ol>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h3>
<p><strong>No workday found for date</strong></p>
<pre><code class="language-bash"># Check if workday exists
kasl report --date 2024-12-15

# Create workday if needed
kasl watch --foreground
</code></pre>
<p><strong>Invalid adjustment amount</strong></p>
<pre><code class="language-bash"># Check current workday duration
kasl report --date 2024-12-15

# Use smaller adjustment amount
kasl adjust --mode start --minutes 15
</code></pre>
<p><strong>Pause time conflicts</strong></p>
<pre><code class="language-bash"># View existing pauses
kasl pauses --date 2024-12-15

# Choose different pause time
kasl adjust --mode pause --minutes 30
</code></pre>
<h3 id="data-recovery"><a class="header" href="#data-recovery">Data Recovery</a></h3>
<pre><code class="language-bash"># View workday history
kasl report --date 2024-12-15

# Export data before making changes
kasl export --date 2024-12-15 --output backup.csv
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="before-making-adjustments"><a class="header" href="#before-making-adjustments">Before Making Adjustments</a></h3>
<ol>
<li><strong>Review current data</strong> using <code>report</code> command</li>
<li><strong>Export backup</strong> using <code>export</code> command</li>
<li><strong>Understand the impact</strong> of the adjustment</li>
<li><strong>Test with small amounts</strong> first</li>
</ol>
<h3 id="adjustment-strategy"><a class="header" href="#adjustment-strategy">Adjustment Strategy</a></h3>
<ol>
<li><strong>Use specific dates</strong> rather than 'today' for historical adjustments</li>
<li><strong>Make incremental changes</strong> rather than large adjustments</li>
<li><strong>Document reasons</strong> for adjustments</li>
<li><strong>Verify results</strong> after making changes</li>
</ol>
<h3 id="data-integrity"><a class="header" href="#data-integrity">Data Integrity</a></h3>
<ol>
<li><strong>Avoid excessive adjustments</strong> that might indicate monitoring issues</li>
<li><strong>Review patterns</strong> in adjustments to improve monitoring</li>
<li><strong>Keep adjustments minimal</strong> and well-documented</li>
<li><strong>Validate final results</strong> with report command</li>
</ol>
<h2 id="integration-with-other-commands"><a class="header" href="#integration-with-other-commands">Integration with Other Commands</a></h2>
<p>The <code>adjust</code> command works with other kasl commands:</p>
<ul>
<li><strong><code>report</code></strong>: Review workday data before and after adjustments</li>
<li><strong><code>pauses</code></strong>: View existing pauses to avoid conflicts</li>
<li><strong><code>watch</code></strong>: Improve monitoring to reduce need for adjustments</li>
<li><strong><code>export</code></strong>: Backup data before making adjustments</li>
</ul>
<h2 id="related-commands"><a class="header" href="#related-commands">Related Commands</a></h2>
<ul>
<li><strong><a href="./report.html"><code>report</code></a></strong> - Review workday data</li>
<li><strong><a href="./pauses.html"><code>pauses</code></a></strong> - View recorded breaks and pauses</li>
<li><strong><a href="./watch.html"><code>watch</code></a></strong> - Monitor activity (reduces need for adjustments)</li>
<li><strong><a href="./export.html"><code>export</code></a></strong> - Backup data before adjustments</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../commands/export.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../commands/pauses.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../commands/export.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../commands/pauses.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
