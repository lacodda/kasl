<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>sum - kasl documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">kasl documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sum-command"><a class="header" href="#sum-command"><code>sum</code> Command</a></h1>
<p>The <code>sum</code> command generates comprehensive monthly reports showing daily work hours, productivity metrics, and calendar integration with company rest days. It provides both detailed daily breakdowns and aggregate statistics for the current month.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-bash">kasl sum [OPTIONS]
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<ul>
<li><code>--send</code>: Submit the monthly summary report
<ul>
<li>Generates and submits the summary to the configured reporting API</li>
<li>Useful for organizational reporting requirements</li>
<li>Integrates with external systems like SiServer</li>
</ul>
</li>
</ul>
<h2 id="report-components"><a class="header" href="#report-components">Report Components</a></h2>
<p>The monthly summary includes:</p>
<ol>
<li><strong>Daily Breakdown</strong>: Each workday with hours and productivity percentage</li>
<li><strong>Rest Days</strong>: Company holidays and weekends with default hours</li>
<li><strong>Monthly Totals</strong>: Total hours worked and average daily hours</li>
<li><strong>Productivity Metrics</strong>: Average productivity across all workdays</li>
</ol>
<h2 id="data-sources"><a class="header" href="#data-sources">Data Sources</a></h2>
<p>The summary integrates data from multiple sources:</p>
<ul>
<li><strong>Local Database</strong>: Recorded workdays and pause information</li>
<li><strong>External API</strong>: Company rest dates and holidays (if configured)</li>
<li><strong>Configuration</strong>: Default work hours for rest days</li>
</ul>
<h2 id="productivity-calculation"><a class="header" href="#productivity-calculation">Productivity Calculation</a></h2>
<p>Productivity is calculated as:</p>
<pre><code>Productivity = (Net Working Time / Gross Working Time) * 100%
</code></pre>
<p>Where:</p>
<ul>
<li><strong>Net Working Time</strong>: Actual productive work (excluding all pauses)</li>
<li><strong>Gross Working Time</strong>: Total presence time (excluding long breaks only)</li>
</ul>
<p>This provides insight into how effectively time is used during work sessions.</p>
<h2 id="rest-day-integration"><a class="header" href="#rest-day-integration">Rest Day Integration</a></h2>
<p>If SiServer integration is configured, the summary will:</p>
<ul>
<li>Fetch official company rest dates for the current month</li>
<li>Include these dates with default 8-hour entries</li>
<li>Distinguish between work days and rest days in the display</li>
</ul>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="basic-monthly-summary"><a class="header" href="#basic-monthly-summary">Basic Monthly Summary</a></h3>
<pre><code class="language-bash"># Display monthly summary for current month
kasl sum
</code></pre>
<h3 id="submit-monthly-report"><a class="header" href="#submit-monthly-report">Submit Monthly Report</a></h3>
<pre><code class="language-bash"># Generate and submit summary to configured API
kasl sum --send
</code></pre>
<h2 id="sample-output"><a class="header" href="#sample-output">Sample Output</a></h2>
<pre><code>December 2024

+------------+----------+-------------+
| DATE       | DURATION | PRODUCTIVITY|
+------------+----------+-------------+
| 2024-12-02 | 08:15    | 92.0%       |
| 2024-12-03 | 07:45    | 88.0%       |
| 2024-12-04 | 08:30    | 95.0%       |
| 2024-12-05 | 07:20    | 85.0%       |
| 2024-12-06 | 08:00    | 90.0%       |
| 2024-12-07 | 08:00    | 100.0%      |
| 2024-12-08 | 08:00    | 100.0%      |
| 2024-12-09 | 08:15    | 91.0%       |
| 2024-12-10 | 07:30    | 87.0%       |
|            |          |             |
| TOTAL      | 79:15    | 92.5%       |
+------------+----------+-------------+
</code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="siserver-integration"><a class="header" href="#siserver-integration">SiServer Integration</a></h3>
<p>To enable rest day integration, configure SiServer in your settings:</p>
<pre><code class="language-bash">kasl init --si-server-url "https://your-server.com" --si-server-token "your-token"
</code></pre>
<h3 id="default-work-hours"><a class="header" href="#default-work-hours">Default Work Hours</a></h3>
<p>Configure default hours for rest days:</p>
<pre><code class="language-bash"># Set default hours for rest days (default is 8 hours)
kasl init --default-hours 8
</code></pre>
<h2 id="integration-with-other-commands"><a class="header" href="#integration-with-other-commands">Integration with Other Commands</a></h2>
<p>The <code>sum</code> command works with other kasl commands:</p>
<ul>
<li><strong><code>report</code></strong>: Daily reports that feed into monthly summaries</li>
<li><strong><code>watch</code></strong>: Activity monitoring that provides the underlying data</li>
<li><strong><code>adjust</code></strong>: Manual time adjustments that affect summary calculations</li>
<li><strong><code>export</code></strong>: Export monthly data for external analysis</li>
</ul>
<h2 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h2>
<h3 id="monthly-reporting"><a class="header" href="#monthly-reporting">Monthly Reporting</a></h3>
<pre><code class="language-bash"># Generate monthly report for management
kasl sum --send
</code></pre>
<h3 id="productivity-analysis"><a class="header" href="#productivity-analysis">Productivity Analysis</a></h3>
<pre><code class="language-bash"># Review productivity trends
kasl sum
# Compare with previous months
</code></pre>
<h3 id="compliance-reporting"><a class="header" href="#compliance-reporting">Compliance Reporting</a></h3>
<pre><code class="language-bash"># Submit required monthly reports
kasl sum --send
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h3>
<p><strong>No data for current month</strong></p>
<pre><code class="language-bash"># Check if monitoring is running
kasl watch --foreground

# Verify data exists
kasl report --last
</code></pre>
<p><strong>API submission fails</strong></p>
<pre><code class="language-bash"># Check API configuration
kasl init --show-config

# Test API connection
kasl report --send
</code></pre>
<p><strong>Incorrect rest days</strong></p>
<pre><code class="language-bash"># Verify SiServer configuration
kasl init --si-server-url "https://your-server.com"

# Check rest day settings
kasl init --show-config
</code></pre>
<h3 id="data-validation"><a class="header" href="#data-validation">Data Validation</a></h3>
<pre><code class="language-bash"># Verify daily data before generating summary
kasl report --last

# Check for missing days
kasl report --show-all
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="monthly-workflow"><a class="header" href="#monthly-workflow">Monthly Workflow</a></h3>
<ol>
<li><strong>Review daily reports</strong> throughout the month</li>
<li><strong>Generate summary</strong> at month-end</li>
<li><strong>Submit to organization</strong> if required</li>
<li><strong>Archive data</strong> for historical analysis</li>
</ol>
<h3 id="data-quality"><a class="header" href="#data-quality">Data Quality</a></h3>
<ol>
<li><strong>Ensure monitoring is active</strong> during work hours</li>
<li><strong>Review and adjust</strong> any incorrect time entries</li>
<li><strong>Validate rest day configuration</strong></li>
<li><strong>Check API integration</strong> before submission</li>
</ol>
<h3 id="reporting"><a class="header" href="#reporting">Reporting</a></h3>
<ol>
<li><strong>Submit reports promptly</strong> at month-end</li>
<li><strong>Keep local copies</strong> of submitted reports</li>
<li><strong>Review productivity trends</strong> over time</li>
<li><strong>Use insights</strong> to improve work patterns</li>
</ol>
<h2 id="related-commands"><a class="header" href="#related-commands">Related Commands</a></h2>
<ul>
<li><strong><a href="./report.html"><code>report</code></a></strong> - Generate daily work reports</li>
<li><strong><a href="./watch.html"><code>watch</code></a></strong> - Monitor activity for data collection</li>
<li><strong><a href="./adjust.html"><code>adjust</code></a></strong> - Adjust recorded times</li>
<li><strong><a href="./export.html"><code>export</code></a></strong> - Export data for external analysis</li>
<li><strong><a href="./init.html"><code>init</code></a></strong> - Configure API integration</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../commands/report.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../commands/export.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../commands/report.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../commands/export.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
